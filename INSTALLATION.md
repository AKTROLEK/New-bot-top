# ๐ฆ ุฏููู ุงูุชุซุจูุช ูุงูุฅุนุฏุงุฏ | Installation Guide

<div dir="rtl">

## ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ

ูุจู ุงูุจุฏุกุ ุชุฃูุฏ ูู ุชููุฑ:

- **Node.js** (ุงูุฅุตุฏุงุฑ 18.0.0 ุฃู ุฃุญุฏุซ)
- **npm** ุฃู **yarn**
- ุญุณุงุจ Discord ูุน ุตูุงุญูุงุช ุฅูุดุงุก ุจูุช
- ุฎุงุฏู Discord ูุงุฎุชุจุงุฑ ุงูุจูุช

## ุฎุทูุงุช ุงูุชุซุจูุช

### 1๏ธโฃ ุงุณุชูุณุงุฎ ุงููุดุฑูุน

```bash
git clone https://github.com/AKTROLEK/New-bot-top.git
cd New-bot-top
```

### 2๏ธโฃ ุชุซุจูุช ุงูููุชุจุงุช

```bash
npm install
```

ุฃู ุจุงุณุชุฎุฏุงู yarn:

```bash
yarn install
```

### 3๏ธโฃ ุฅูุดุงุก ุชุทุจูู Discord

1. ุงุฐูุจ ุฅูู [Discord Developer Portal](https://discord.com/developers/applications)
2. ุงุถุบุท ุนูู "New Application"
3. ุฃุฏุฎู ุงุณู ุงูุชุทุจูู
4. ุงูุชูู ุฅูู ูุณู "Bot"
5. ุงุถุบุท ุนูู "Add Bot"
6. ูู ุจุชูุนูู ุงูุฎูุงุฑุงุช ุงูุชุงููุฉ ูู "Privileged Gateway Intents":
   - โ Presence Intent
   - โ Server Members Intent
   - โ Message Content Intent
7. ุงุญูุธ ุงูู Token (ุณุชุญุชุงุฌู ูุงุญูุงู)

### 4๏ธโฃ ุงูุญุตูู ุนูู ุจูุงูุงุช OAuth2

1. ุงูุชูู ุฅูู ูุณู "OAuth2"
2. ุงุญูุธ:
   - Client ID
   - Client Secret
3. ูู "Redirects"ุ ุฃุถู:
   - `http://localhost:3000/auth/callback` (ููุชุทููุฑ)
   - `https://yourdomain.com/auth/callback` (ููุฅูุชุงุฌ)

### 5๏ธโฃ ุฏุนูุฉ ุงูุจูุช ููุณูุฑูุฑ

1. ุงูุชูู ุฅูู "OAuth2" > "URL Generator"
2. ุงุฎุชุฑ:
   - **Scopes**: `bot`, `applications.commands`
   - **Bot Permissions**:
     - Administrator (ุฃู ุญุฏุฏ ุงูุตูุงุญูุงุช ูุฏููุงู)
3. ุงูุณุฎ ุงูุฑุงุจุท ุงููููุดุฃ
4. ุงูุชุญู ูู ุงููุชุตูุญ
5. ุงุฎุชุฑ ุงูุณูุฑูุฑ ูุฃููู ุงูุฏุนูุฉ

### 6๏ธโฃ ุฅุนุฏุงุฏ ููู ุงูุจูุฆุฉ

ุงูุณุฎ ููู `.env.example` ุฅูู `.env`:

```bash
cp .env.example .env
```

ุงููุฃ ุงูููู ูู ููู `.env`:

```env
# Discord Configuration
DISCORD_TOKEN=your_bot_token_here          # ูู ูุณู Bot
DISCORD_CLIENT_ID=your_client_id_here      # ูู ูุณู OAuth2
DISCORD_CLIENT_SECRET=your_client_secret   # ูู ูุณู OAuth2
DISCORD_GUILD_ID=your_guild_id_here        # ูุนุฑูู ุงูุณูุฑูุฑ (ุงุฎุชูุงุฑู)

# Web Dashboard
WEB_PORT=3000
WEB_URL=http://localhost:3000
SESSION_SECRET=generate_random_string      # ููุชุงุญ ุณุฑู ุนุดูุงุฆู

# Database
DATABASE_PATH=./data/bot.db

# Bot Settings
BOT_LANGUAGE=ar
BOT_TIMEZONE=Asia/Riyadh

# Security
ENABLE_ANTI_SPAM=true
ENABLE_ANTI_RAID=true
ENABLE_ANTI_LINK=true

# AI Configuration (ุงุฎุชูุงุฑู)
OPENAI_API_KEY=your_openai_key_here        # ุฅุฐุง ุฃุฑุฏุช ุชูุนูู ุงูุฐูุงุก ุงูุงุตุทูุงุนู
AI_ENABLED=false

# Logging
LOG_LEVEL=info
LOG_FILE=./logs/bot.log
```

### 7๏ธโฃ ุงูุญุตูู ุนูู ูุนุฑูู ุงูุณูุฑูุฑ (Guild ID)

ูู Discord:
1. ูุนูู "Developer Mode" ูู ุงูุฅุนุฏุงุฏุงุช > Advanced
2. ุงููุฑ ุจุงูุฒุฑ ุงูุฃููู ุนูู ุงูุณูุฑูุฑ
3. ุงุฎุชุฑ "Copy ID"
4. ุถุนู ูู `DISCORD_GUILD_ID`

### 8๏ธโฃ ุชุดุบูู ุงูุจูุช

ููุชุทููุฑ (ูุน ุฅุนุงุฏุฉ ุชุดุบูู ุชููุงุฆูุฉ):
```bash
npm run dev
```

ููุฅูุชุงุฌ:
```bash
npm start
```

### 9๏ธโฃ ุชุดุบูู ููุญุฉ ุงูุชุญูู (ุงุฎุชูุงุฑู)

ูู ูุงูุฐุฉ ุทุฑููุฉ ูููุตูุฉ:
```bash
npm run web
```

ุงูุชุญ ุงููุชุตูุญ ุนูู: `http://localhost:3000`

</div>

## Verification | ุงูุชุญูู

ุฅุฐุง ูุฌุญ ูู ุดูุกุ ุณุชุดุงูุฏ:

โ ุฑุณุงุฆู ูู ุงูุทุฑููุฉ ุชุคูุฏ:
- ุชุญููู ูููุงุช ุงููุบุฉ
- ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุชุญููู ุงูุฃูุงูุฑ ูุงูุฃุญุฏุงุซ
- ุชุณุฌูู ุงูุฏุฎูู ุฅูู Discord

โ ุงูุจูุช ูุธูุฑ online ูู ุณูุฑูุฑู

โ ููููู ุงุณุชุฎุฏุงู ุงูุฃูุงูุฑ ุงููุงุฆูุฉ (/)

## Configuration | ุงูุฅุนุฏุงุฏุงุช ุงููุชูุฏูุฉ

### ุฅุนุฏุงุฏ ูุธุงู ุงูุฏุนู

ูู ููุญุฉ ุงูุชุญูู ุฃู ูู ุฎูุงู ูุงุนุฏุฉ ุงูุจูุงูุงุชุ ูู ุจุชูููู:

1. **ุบุฑู ุงูุงูุชุธุงุฑ** (Waiting Rooms)
   - ุฃุถู ูุนุฑููุงุช ุงููููุงุช ุงูุตูุชูุฉ ุงูุชู ุณููุชุธุฑ ูููุง ุงููุณุชุฎุฏููู

2. **ุบุฑู ุงูุฏุนู** (Support Rooms)
   - ุฃุถู ูุนุฑููุงุช ุงููููุงุช ุงูุตูุชูุฉ ููุฏุนู

3. **ุฑุชุจ ุงูููุธููู** (Staff Roles)
   - ุฃุถู ูุนุฑููุงุช ุงูุฑุชุจ ุงูุชู ูููููุง ุชูุฏูู ุงูุฏุนู

### ุฅุนุฏุงุฏ ูุธุงู ุงูุชูุนูู

1. **ุบุฑู ุงูุชุธุงุฑ ุงูุชูุนูู**
   - ุญุฏุฏ ุงููููุงุช ุงููุฎุตุตุฉ ููุชูุนูู

2. **ุฑุชุจุฉ ุงูุนุถู ุงูููุนูู**
   - ุญุฏุฏ ุงูุฑุชุจุฉ ุงูุชู ุณุชูููุญ ุจุนุฏ ุงูุชูุนูู

3. **ุฃุณุฆูุฉ ุงูุงุฎุชุจุงุฑ**
   - ุฃุถู ุฃุณุฆูุฉ ุงูุงุฎุชุจุงุฑ (ูููู ุฅุถุงูุชูุง ูู ููุญุฉ ุงูุชุญูู)

### ุฅุนุฏุงุฏ ูุธุงู ุงูุณุชุฑููุฑุฒ

1. **ุฑุชุจุฉ ุงูุณุชุฑููุฑ**
   - ุญุฏุฏ ุงูุฑุชุจุฉ ุงูุฎุงุตุฉ ุจุงูุณุชุฑููุฑุฒ

2. **ูุชุทูุจุงุช ุฃุณุจูุนูุฉ**
   - ุนุฏุฏ ุงูููุฏูููุงุช: 3 (ุงูุชุฑุงุถู)
   - ุณุงุนุงุช ุงูุจุซ: 10 (ุงูุชุฑุงุถู)

3. **ุงูููุงูุขุช**
   - ูุฑูุฏุช ููู ููุฏูู: 100
   - ูุฑูุฏุช ููู ุณุงุนุฉ: 50

## Troubleshooting | ุญู ุงููุดุงูู

### ุงูุจูุช ูุง ูุณุชุฌูุจ ููุฃูุงูุฑ

1. ุชุฃูุฏ ูู ุชุณุฌูู ุงูุฃูุงูุฑ:
   ```bash
   # ูู ููู index.jsุ ุชุฃูุฏ ูู ุธููุฑ:
   # "Successfully reloaded X application (/) commands"
   ```

2. ุชุญูู ูู ุงูุตูุงุญูุงุช:
   - ุงูุจูุช ูุญุชุงุฌ ุตูุงุญูุฉ `applications.commands`

3. ูู ูุถุน ุงูุชุทููุฑุ ุงุณุชุฎุฏู `DISCORD_GUILD_ID` ูุชุณุฑูุน ุชุณุฌูู ุงูุฃูุงูุฑ

### ูุง ูููู ุงููุตูู ูููุญุฉ ุงูุชุญูู

1. ุชุฃูุฏ ูู ุชุดุบูู `npm run web`
2. ุชุญูู ูู ุงููููุฐ `3000` ุบูุฑ ูุณุชุฎุฏู
3. ุชุฃูุฏ ูู ุฅุนุฏุงุฏุงุช OAuth2 Redirect ุตุญูุญุฉ

### ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุง ุชุนูู

1. ุชุฃูุฏ ูู ูุฌูุฏ ูุฌูุฏ `data`:
   ```bash
   mkdir -p data
   ```

2. ุชุญูู ูู ุตูุงุญูุงุช ุงููุชุงุจุฉ ุนูู ุงููุฌูุฏ

### ุงูุฐูุงุก ุงูุงุตุทูุงุนู ูุง ูุนูู

ุงูุฐูุงุก ุงูุงุตุทูุงุนู **ุงุฎุชูุงุฑู** ููุชุทูุจ:

1. ุญุณุงุจ OpenAI
2. API Key
3. ุชูุนูู ูู `.env`:
   ```env
   AI_ENABLED=true
   OPENAI_API_KEY=sk-...
   ```

## Production Deployment | ุงููุดุฑ ููุฅูุชุงุฌ

### ุงุณุชุฎุฏุงู PM2 (ููุตู ุจู)

```bash
# ุชุซุจูุช PM2
npm install -g pm2

# ุชุดุบูู ุงูุจูุช
pm2 start src/index.js --name discord-bot

# ุชุดุบูู ููุญุฉ ุงูุชุญูู
pm2 start src/web/server.js --name dashboard

# ุฅุนุงุฏุฉ ุงูุชุดุบูู ุงูุชููุงุฆู ุนูุฏ ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฎุงุฏู
pm2 startup
pm2 save
```

### ุงุณุชุฎุฏุงู Docker

ูุฑูุจุงู: ุณูุชู ุฅุถุงูุฉ `Dockerfile` ู `docker-compose.yml`

### ุงููุดุฑ ุนูู Railway

<div dir="rtl">

1. ูู ุจุฅูุดุงุก ูุดุฑูุน ุฌุฏูุฏ ุนูู [Railway](https://railway.app)
2. ุงุฑุจุท ูุณุชูุฏุน GitHub ุงูุฎุงุต ุจู
3. ุฃุถู ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุงูุชุงููุฉ:
   - `DISCORD_TOKEN`
   - `DISCORD_CLIENT_ID`
   - `DISCORD_CLIENT_SECRET`
   - `DISCORD_GUILD_ID`
   - `WEB_URL` - ูุฌุจ ุฃู ูุทุงุจู ุฑุงุจุท ุงูุฎุฏูุฉ (ูุซู: `https://your-app.up.railway.app`)
   - `SESSION_SECRET`
4. Railway ุณูููุฑ ูุชุบูุฑ `PORT` ุชููุงุฆูุงู - ุงูุฎุงุฏู ุณูุณุชุฎุฏูู
5. ุงุฎุชุฑ `npm run web` ูุฃูุฑ ุงูุจุฏุก ูุชุดุบูู ููุญุฉ ุงูุชุญูู
6. ุฃู ุงุณุชุฎุฏู `npm start` ูุชุดุบูู ุงูุจูุช ููุท

โ๏ธ **ููุงุญุธุฉ ูููุฉ ููู Railway:**
- ุชุฃูุฏ ุฃู `WEB_URL` ูุทุงุจู ุฑุงุจุท ุงูุฎุฏูุฉ ุจุงูุถุจุท
- ุงูุฎุงุฏู ุณูุณุชูุน ุชููุงุฆูุงู ุนูู ุงููููุฐ ุงูุฐู ูููุฑู Railway
- ุชุฃูุฏ ูู ุฅุถุงูุฉ ุฑุงุจุท callback ูู ุฅุนุฏุงุฏุงุช OAuth2: `https://your-app.up.railway.app/auth/callback`

</div>

### ูุชุบูุฑุงุช ุงูุจูุฆุฉ ููุฅูุชุงุฌ

ุชุฃูุฏ ูู ุชุบููุฑ:
- `WEB_URL` ุฅูู ุงููุทุงู ุงููุนูู
- `SESSION_SECRET` ุฅูู ูููุฉ ูููุฉ
- ุชูุนูู HTTPS
- ุงุณุชุฎุฏุงู ูุงุนุฏุฉ ุจูุงูุงุช ุฃูุซุฑ ููุฉ (PostgreSQL/MySQL) ุฅุฐุง ูุฒู ุงูุฃูุฑ
- ุนูู Railway/Heroku: ูุชุบูุฑ `PORT` ููููุฑ ุชููุงุฆูุงู ูู ุงูููุตุฉ

## Updates | ุงูุชุญุฏูุซุงุช

ููุญุตูู ุนูู ุขุฎุฑ ุงูุชุญุฏูุซุงุช:

```bash
git pull origin main
npm install
pm2 restart all  # ุฅุฐุง ููุช ุชุณุชุฎุฏู PM2
```

## Support | ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ูุดุงูู:

1. ุชุญูู ูู ุงูุณุฌูุงุช ูู ูุฌูุฏ `logs/`
2. ุงุจุญุซ ูู [Issues](https://github.com/AKTROLEK/New-bot-top/issues)
3. ุงูุชุญ issue ุฌุฏูุฏ ูุน ุชูุงุตูู ุงููุดููุฉ

## Security Notes | ููุงุญุธุงุช ุงูุฃูุงู

โ๏ธ **ููู ุฌุฏุงู:**

- โ **ูุง ุชุดุงุฑู** ููู `.env` ุฃุจุฏุงู
- โ **ูุง ุชูุดุฑ** ุงูู Token ุฃู Client Secret
- โ ุฃุถู `.env` ุฅูู `.gitignore` (ููุฌูุฏ ุจุงููุนู)
- โ ุงุณุชุฎุฏู ูุชุบูุฑุงุช ุจูุฆุฉ ูู ุงูุฎุงุฏู
- โ ูุนูู 2FA ุนูู ุญุณุงุจ Discord

---

Made with โค๏ธ for Arabic Discord Communities
